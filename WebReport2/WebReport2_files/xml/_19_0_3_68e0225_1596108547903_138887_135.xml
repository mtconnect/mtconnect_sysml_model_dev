<?xml version='1.0' encoding='UTF-8'?><magicdraw><comment id="_19_0_3_68e0225_1596108547903_138887_135" refElementId="_19_0_3_68e0225_1596108547903_138887_135" humanType="Comment" classType="Comment" requireSort="node" icon="WebReport2_files/icon_comment_1090073068.svg"><documentation humanName="Documentation" mode="s">%   MTConnect Document Class    %

\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{mtconnect}[2018/02/13 LaTeX document class for MTConnect]

%   Preliminary Declarations    %

\LoadClass[12pt,letterpaper,twoside]{article}
\usepackage[utf8]{inputenc}
\usepackage[letterpaper,top=1.25in,%
            bottom=1.25in,footskip=0.5in]{geometry}

\usepackage[citations,hybrid,smartEllipses,hashEnumerators,html,%
           pipeTables,tableCaptions,fencedCode,codeSpans,tightLists=false,%
           cacheDir=markdowncache]{markdown}%
\usepackage[absolute]{textpos}
\RequirePackage[htt]{hyphenat}				% Allow hyphenation of fixed space fonts
\RequirePackage{fancyvrb}
\RequirePackage{placeins}
\RequirePackage{booktabs}
\usepackage{morewrites}
\RequirePackage{times}					% Loads Adobe Times Roman Font (clone of Times New Roman)
\RequirePackage{mathptmx}				% Loads Adobe Times Roman Math Font
\RequirePackage{ifpdf}					% Enables switch between latex and pdflatex
\RequirePackage{stringstrings}			% Loads stringstrings to create Camel and Pascal case fonts
\RequirePackage{ifthen}					% Loads ifthen package for conditional statements
\RequirePackage[T1]{fontenc}			% Loads fontenc package for controlled vocabulary formatting
\let\BreakableUnderscore\undefined
\RequirePackage{graphicx}				% Loads graphicx package to include figures and images
\RequirePackage{fancyhdr}				% Loads fancyhdr package to modify headers and footers
%\RequirePackage[hyphens]{url}					% Loads url package to typeset URLs
\RequirePackage{lineno}					% Loads lineno package to apply line numbers to document
\RequirePackage{etoolbox}				% Loads etoolbox package to patch lineno package and suppress line numbers in section headings
\RequirePackage{sectsty}				% Loads sectsty package to modify font of section headings
\RequirePackage{xcolor}					% Loads xcolor package to define color for fonts and tables
\RequirePackage{colortbl}				% Loads colortbl package to provide colors for table shading
\RequirePackage{caption}				% Loads caption package to adjust caption font
\usepackage{listings}				% Loads listings package to typeset code samples
\lstset{ %default
    basicstyle=\footnotesize\fontfamily{pcr}\selectfont,
    numbers=left,
    stepnumber=1,
    xleftmargin=0.25in,
	breaklines=true
}
\renewcommand\lstlistingname{Example}
\RequirePackage{hyperref}				% Loads hyperref package to link TOC/LOF/LOT
\RequirePackage{tocloft}				% Loads tocloft package to format TOC/LOF/LOT
\RequirePackage[ampersand]{easylist}	% Loads easylist package to simplify lists using &amp;
\RequirePackage[english]{babel}
\RequirePackage{csquotes}
\RequirePackage{xstring}
\RequirePackage{siunitx}
\RequirePackage{upgreek}
\RequirePackage{longtable}
\RequirePackage{enumitem}
\usepackage{tabularray}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[normalem]{ulem} %For deprecated items
\RequirePackage[acronym,toc,numberedsection,%
  abbreviations,automake,nonumberlist,%
  section=subsection]{glossaries-extra}
\usepackage{mdframed}
\usepackage{nameref}
\usepackage[titletoc,title]{appendix}
\usepackage{hanging}
\usepackage{titlesec}
\usepackage{xargs}
\newcommand{\sectionbreak}{\clearpage}

\usepackage[backend=biber,style=alphabetic,]{biblatex}
\defbibheading{bibliography}[\bibname]{%
  \subsection{#1}}

\usepackage{titlesec}

%   Watermark   %

%\usepackage{background}
%\backgroundsetup{contents=DRAFT, opacity=0.3, color=cyan, scale=9}

% Formatting for MTConnect with registration mark, which is required in title and footer. 
\newcommand{\mtconnectregistered}{MTConnect\textsuperscript{\textregistered} }
% Formatting for MTConnect without registration mark, which can be used everywhere except title page(s) and footer. 
%\newcommand{\mtconnect}{MTConnect } %Use MTConnect

\newcommand{\storedstringPCR}[1]{{\fontfamily{pcr}\selectfont #1}}

%    Page Layout    %

\setlength\paperheight{11in}
\setlength\paperwidth{8.5in}
\setlength\oddsidemargin{0.25in}
\setlength\evensidemargin{0.25in}

\setlength\parindent{0pt}
\setlength\parskip{1em}

%   Title Page  %

\newcommand\@docnum{}
\newcommand\@doctitle{}
\newcommand\@versionnum{}
\newcommand\@preparedfor{}
\newcommand\@preparedby{}
\newcommand\@preparedon{}
\newcommand\@preparedfrom{}
\newcommand{\docnum}[1]{\gdef\@docnum{#1}}
\newcommand{\doctitle}[1]{\gdef\@doctitle{#1}}
\newcommand{\versionnum}[1]{\gdef\@versionnum{#1}}
\newcommand{\preparedfor}[1]{\gdef\@preparedfor{#1}}
\newcommand{\preparedby}[1]{\gdef\@preparedby{#1}}
\newcommand{\preparedon}[1]{\gdef\@preparedon{#1}}
\newcommand{\preparedfrom}[1]{\gdef\@preparedfrom{#1}}

\renewcommand{\maketitle}{%
	\begin{titlepage}%
    	\begin{flushleft}%
        	\includegraphics[width=0.5\linewidth]{mtconnect.png} \\%
        \end{flushleft}%
        \vfill%
        \begin{center}%
        	\Huge{\textbf{\mtconnectregistered Standard}} \\%
            \huge{\@docnum\ -- \@doctitle} \\%
            \LARGE{Version \@versionnum} \\%
        \end{center}%
        \vfill%
        \hspace*{\fill}%
		\begin{tabular}[t]{l@{}}%
			Prepared for: \@preparedfor \\%
			Prepared from: \@preparedfrom \\%
        	Prepared on: \@preparedon \\%
		\end{tabular}%
		\vfill%
		\noindent \footnotesize{\mtconnectregistered is a registered trademark of AMT - The Association for Manufacturing Technology. Use of MTConnect is limited to use as specified on \url{http://www.mtconnect.org/}.}%
    \end{titlepage}%
    \setcounter{page}{1}%
}

%   Table of Contents/Figures/Tables    %

\addto\captionsenglish{%
\renewcommand\contentsname{\color{mtc1} Table of Contents}}
\addto\captionsenglish{%
\renewcommand\listfigurename{\color{mtc1} Table of Figures}}
\addto\captionsenglish{%
\renewcommand\listtablename{\color{mtc1} List of Tables}}

\renewcommand{\cftfigfont}{\normalsize\bfseries}
\renewcommand{\cftfigindent}{0pt}
\renewcommand{\cftfignumwidth}{4.25em}
\renewcommand{\cftfigpresnum}{Figure }
\renewcommand{\cftfigaftersnum}{:}

\renewcommand{\cfttabfont}{\normalsize\bfseries}
\renewcommand{\cfttabindent}{0pt}
\renewcommand{\cfttabnumwidth}{4em}
\renewcommand{\cfttabpresnum}{Table }
\renewcommand{\cfttabaftersnum}{:}

\renewcommand{\newline}{\vskip 0.1in}

% 	Header and Footer Definitions   %

\newcommand\@doctitleshort{}
\newcommand{\doctitleshort}[1]{\gdef\@doctitleshort{#1}}

\pagestyle{fancy}
\fancyhf{}
\rhead{\@preparedon}
\lfoot{MTConnect \@docnum : \@doctitle { -} Version \@versionnum}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0pt}

% 	Sections and Enumerate   %

\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{3}

\makeatletter
\renewcommand\subparagraph{%
	\@startsection {subparagraph}{5}{\z@ }{3.25ex \@plus 1ex
	\@minus .2ex}{-1em}{\normalfont \normalsize \bfseries }}%
\makeatother

\usepackage{float}

\restylefloat{figure}
\restylefloat{table}

\newif\iffigures
\newif\iftables

\makeatletter
\AtEndDocument {%
    \if@filesw
       \ifnum\value{figure}=\z@ % no figures
          \immediate\write\@mainaux {\global\string\figuresfalse}%
       \else
          \immediate\write\@mainaux {\global\string\figurestrue}%
       \fi
       \ifnum\value{table}=\z@ % no tables
          \immediate\write\@mainaux {\global\string\tablesfalse}%
       \else
          \immediate\write\@mainaux {\global\string\tablestrue}%
       \fi
    \fi
}
\makeatother

\definecolor{mtc1}{RGB}{43,105,145}
\sectionfont{\bfseries\color{mtc1}\Large}
\subsectionfont{\bfseries\color{mtc1}\large}
\subsubsectionfont{\bfseries\color{black}\large}
\paragraphfont{\bfseries\color{black}\normalsize}
\subparagraphfont{\bfseries\color{black}\normalsize}

% 	Tables and Figures   %

\definecolor{mtc2}{RGB}{0,128,128}
\newcommand{\tblh}[1]{\normalsize\textbf{\textcolor{white}{#1}}}

\graphicspath{ {./figures/} }

\newcommand{\figcap}[1]{\caption{\textbf{#1}}}
\captionsetup{labelfont=bf}

\newcommand{\tabuheader}{\rowcolor{mtc2}\rowfont[c]{\fontsize{10pt}{12pt}\selectfont\bfseries\color{white}}}

% 	Line Numbers   %

\renewcommand\linenumberfont{\footnotesize\fontfamily{pcr}\selectfont}
\makeatletter
\patchcmd{\@startsection}{\@ifstar}{\nolinenumbers\@ifstar}{}{}
\patchcmd{\@xsect}{\ignorespaces}{\linenumbers\ignorespaces}{}{}
\makeatother
\linenumbers

% 	Other Commands   %

% Courier font selection:
\newcommand{\cfont}[1]{{\fontfamily{pcr}\selectfont #1}}
\newcommand{\literal}[1]{{\fontfamily{pcr}\selectfont #1}}
\newcommand{\xml}[1]{{\fontfamily{pcr}\selectfont #1}}
\newcommand{\deprecated}[1]{\sout{#1}}
\newcommand{\DEPRECATED}{\textbf{DEPRECATED }}
\newcommand{\DEPRECATIONWARNING}{\textbf{DEPRECATION WARNING }}
\newcommand{\WARNING}{\textbf{WARNING }}

\newcommand{\notesign}{\textsuperscript{\textdagger}}
%create a loop if more are required

% Requirement levels:
\newcommand{\must}{\textbf{MUST }}
\newcommand{\mustnot}{\textbf{MUST NOT }}
\newcommand{\should}{\textbf{SHOULD }}
\newcommand{\shouldnot}{\textbf{SHOULD NOT }}
\newcommand{\may}{\textbf{MAY }}
\newcommand{\maynot}{\textbf{MAY NOT }}
\newcommand{\shall}{\textbf{SHALL }}
\newcommand{\shallnot}{\textbf{SHALL NOT }}

\newcommand{\NOT}{\textbf{NOT }}
% Mapping must, MUST, shall, SHALL to SHALL
\newcommand{\MUST}{\must}
\newcommand{\MUSTNOT}{\mustnot}

\newcommand{\SHOULD}{\should}
\newcommand{\SHOULDNOT}{\shouldnot}
\newcommand{\MAY}{\may}
\newcommand{\MAYNOT}{\maynot}
\newcommand{\SHALL}{\shall}
\newcommand{\SHALLNOT}{\shallnot}

% Formatting for cross-references:
\newcommand{\fig}[1]{\textit{Figure~\ref{fig:#1} }}
\newcommand{\sect}[1]{\textit{Section~\ref{sec:\detokenize{#1}} - \nameref{\detokenize{sec:#1}}}}
\newcommand{\tbl}[1]{\textit{Table~\ref{table:#1}}}
\newcommand{\apx}[1]{\textit{Appendix~\ref{appendix:#1}}}
\newcommand{\lst}[1]{\textit{Example~\ref{lst:#1}}}
\newcommand{\ver}[1]{\textit{MTConnect Version #1 }}

% Format for terms
\newcommand{\term}[1]{\textit{#1}}

% Formatting for code samples:
\newcommand{\code}{%
\lstset{basicstyle=\footnotesize\fontfamily{pcr}\selectfont,numbers=left,stepnumber=1,xleftmargin=0.25in,breaklines=true}}

\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}

% Glossaries

\newglossary*{mtc}{MTConnect Terms}
\newglossary*{general}{General Terms}
\newglossary*{informationmodel}{Information Model Terms}
\newglossary*{protocol}{Protocol Terms}
\newglossary*{xml}{XML Terms}
\newglossary*{http}{HTTP Terms}
\newglossary*{conceptmodel}{Concept Model Terms}
\newglossary*{industrial}{Industrial Terms}

\makeglossaries

%Underlined headings (Example: scenarios in Part5)
\newcommand{\ulheading}[1]{\tab \uline{#1}}

%indent/tab in tables
\newcommand{\tab}{\hspace{0.5cm}}

% For acronyms, puts the long description first and then the acronym second.
\setabbreviationstyle[acronym]{long-short}

\defglsentryfmt[general]{\term{\glsgenentryfmt}}
\defglsentryfmt[informationmodel]{\term{\glsgenentryfmt}}
\defglsentryfmt[protocol]{\term{\glsgenentryfmt}}
\defglsentryfmt[http]{\term{\glsgenentryfmt}}
\defglsentryfmt[xml]{\term{\glsgenentryfmt}}
\defglsentryfmt[conceptmodel]{\term{\glsgenentryfmt}}

\renewcommand{\glsnamefont}[1]{%
  \glsifcategory{\glscurrententrylabel}{model}%
    {\cfont{#1}}%
    {\term{#1}}%
}

\setglossarystyle{altlist}
\makeglossaries

% Styles for OPC, UML, SysML 

\usepackage{sty/tikz-uml}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows,calc,decorations.markings,math,arrows.meta}

\tikzumlset{fill class=white, fill template=white}

\tikzstyle{tikzuml unidirectional association style}=%
   [color=\tikzumlDefaultDrawColor, {-{Stealth[inset=3pt,scale=2.5,angle'=45]}},%
   rounded corners]

\tikzstyle{tikzuml inherit style}=%
   [color=\tikzumlDefaultDrawColor, {-{Stealth[inset=0pt,scale=2.5,fill=white,angle'=45]}},%
   rounded corners]

\lstdefinelanguage{XML}
{
  basicstyle=\ttfamily\footnotesize,
  morestring=[b]",
  moredelim=[s][\bfseries\color{maroon}]{&lt;}{\ },
  moredelim=[s][\bfseries\color{maroon}]{&lt;/}{>},
  moredelim=[l][\bfseries\color{maroon}]{/>},
  moredelim=[l][\bfseries\color{maroon}]{>},
  morecomment=[s]{&lt;?}{?>},
  morecomment=[s]{&lt;!--}{-->},
  commentstyle=\color{darkgreen},
  stringstyle=\color{blue},
  identifierstyle=\color{red}
}

\newcommand{\block}[1]{\cfont{#1}}
\newcommand{\property}[1]{\cfont{#1}}
\newcommand{\operation}[1]{\cfont{#1}}

\newenvironment{note}{}{}</documentation><owningElement refid="_19_0_3_68e0225_1596108922525_351463_147" refElementId="_19_0_3_68e0225_1596108922525_351463_147" humanType="Package" classType="Package" name="Common Documents" icon="WebReport2_files/icon_package_315785478.svg" humanName="Owning Element"/><owner refid="_19_0_3_68e0225_1596108922525_351463_147" refElementId="_19_0_3_68e0225_1596108922525_351463_147" humanType="Package" classType="Package" name="Common Documents" icon="WebReport2_files/icon_package_315785478.svg" humanName="Owner" mode="s,e"/><ownedElement humanName="Owned Element"><comment refid="_19_0_3_68e0225_1596108594706_349071_137" refElementId="_19_0_3_68e0225_1596108594706_349071_137" humanType="Comment" classType="Comment" name="%   MTConnect Document Class    %  \NeedsTeXFormat..." icon="WebReport2_files/icon_comment_895580618.svg"/></ownedElement><ownedComment humanName="Owned Comment"><comment refid="_19_0_3_68e0225_1596108594706_349071_137" refElementId="_19_0_3_68e0225_1596108594706_349071_137" humanType="Comment" classType="Comment" name="%   MTConnect Document Class    %  \NeedsTeXFormat..." icon="WebReport2_files/icon_comment_895580618.svg"/></ownedComment><body humanName="Body" mode="s,e">MTConnect Class</body><appliedStereotype humanName="Applied Stereotype" mode="s,e"><stereotype refid="_19_0_3_68e0225_1642762257701_827671_122" refElementId="_19_0_3_68e0225_1642762257701_827671_122" humanType="Stereotype" classType="Stereotype" name="informative" icon="WebReport2_files/icon_stereotype_1363963040.svg"/><stereotype refid="_18_0_6_8d40284_1529075556359_481044_4712" refElementId="_18_0_6_8d40284_1529075556359_481044_4712" humanType="Stereotype" classType="Stereotype" name="Literal Annotation" icon="WebReport2_files/icon_stereotype_1363963040.svg"/></appliedStereotype><TO_DO humanName="To Do" mode="s,e"></TO_DO><ActiveHyperlink humanName="Active Hyperlink"></ActiveHyperlink><report_appliedStereotype_tags humanName="Applied Stereotype" requireSort="element" mode="s,e"><stereotype refid="_19_0_3_68e0225_1642762257701_827671_122" refElementId="_19_0_3_68e0225_1642762257701_827671_122" humanType="Stereotype" classType="Stereotype" name="informative" icon="WebReport2_files/icon_stereotype_1363963040.svg"><property requireSort="name" refid="_19_0_3_68e0225_1643456587426_442589_446" refElementId="_19_0_3_68e0225_1643456587426_442589_446" humanType="Property" classType="Property" name="base_Element" icon="WebReport2_files/icon_property_415032321.svg" humanName="Base_ Element"/></stereotype><stereotype refid="_18_0_6_8d40284_1529075556359_481044_4712" refElementId="_18_0_6_8d40284_1529075556359_481044_4712" humanType="Stereotype" classType="Stereotype" name="Literal Annotation" icon="WebReport2_files/icon_stereotype_1363963040.svg"><property requireSort="name" refid="_18_0_4_8d40284_1446637901611_333092_4293" refElementId="_18_0_4_8d40284_1446637901611_333092_4293" humanType="Property" classType="Property" name="annotationProperty" icon="WebReport2_files/icon_property_415032321.svg" humanName="Annotation Property"/><property requireSort="name" refid="_18_0_6_8d40284_1529075563218_973152_4714" refElementId="_18_0_6_8d40284_1529075563218_973152_4714" humanType="Property" classType="Property" name="base_Comment" icon="WebReport2_files/icon_property_415032321.svg" humanName="Base_ Comment"/><property requireSort="name" refid="_18_0_4_8d40284_1446637851399_224264_4289" refElementId="_18_0_4_8d40284_1446637851399_224264_4289" humanType="Property" classType="Property" name="base_Comment" icon="WebReport2_files/icon_property_415032321.svg" humanName="Base_ Comment"/><property requireSort="name" refid="_18_0_6_8d40284_1525856815617_605073_4892" refElementId="_18_0_6_8d40284_1525856815617_605073_4892" humanType="Property" classType="Property" name="datatype" icon="WebReport2_files/icon_property_415032321.svg" humanName="Datatype"/><property requireSort="name" refid="_18_0_6_17770441_1521589781350_530230_4650" refElementId="_18_0_6_17770441_1521589781350_530230_4650" humanType="Property" classType="Property" name="language" icon="WebReport2_files/icon_property_415032321.svg" humanName="Language"/></stereotype></report_appliedStereotype_tags></comment></magicdraw>