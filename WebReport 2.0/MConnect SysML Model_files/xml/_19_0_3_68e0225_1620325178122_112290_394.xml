<?xml version="1.0" encoding="UTF-8"?><magicdraw><opaqueexpression classType="OpaqueExpression" humanType="Opaque Expression" icon="MConnect SysML Model_files/icon_opaqueexpression_913955118.jpg" id="_19_0_3_68e0225_1620325178122_112290_394"><body humanName="Body" mode="e"><String>Components::Devices::Device::allInstances()-&gt;iterate(device;devicecount:Real=0|
if device.observes-&gt;size() &gt;= 3
then 
    if device.observes-&gt;iterate(av;avail:Real=0|if av.oclAsType(DataItems::"DataItem Types"::Event).type = DataTypes::EventEnum::AVAILABILITY then avail+1 else avail+0 endif) = 1
    then if device.observes-&gt;iterate(ac;assetc:Real=0|if ac.oclAsType(DataItems::"DataItem Types"::Event).type = DataTypes::EventEnum::ASSET_CHANGED then assetc+1 else assetc+0 endif) = 1
        then if device.observes-&gt;iterate(ar;assetr:Real=0|if ar.oclAsType(DataItems::"DataItem Types"::Event).type = DataTypes::EventEnum::ASSET_REMOVED then assetr+1 else assetr+0 endif) = 1
            then devicecount + 1
            else devicecount + 0
            endif
        else devicecount + 0
        endif
    else devicecount + 0
    endif
else devicecount + 0
endif) = hasDevice-&gt;size()</String></body><documentation humanName="Documentation"/><language humanName="Language" mode="e"><String>OCL2.0</String></language><name humanName="Name"/><owner classType="Constraint" humanName="Owner" humanType="Constraint" icon="MConnect SysML Model_files/icon_constraint_1323457920.jpg" mode="s,e" name="mtconnectDevices2" refid="_19_0_3_68e0225_1620325178122_209573_393"/><owningConstraint classType="Constraint" humanName="Owning Constraint" humanType="Constraint" icon="MConnect SysML Model_files/icon_constraint_1323457920.jpg" name="mtconnectDevices2" refid="_19_0_3_68e0225_1620325178122_209573_393"/><qualifiedName humanName="Qualified Name">Protocols::MTConnect Protocol::MTConnectDevices::MTConnectDevices::mtconnectDevices2::</qualifiedName><text humanName="Text" mode="standard">Components::Devices::Device::allInstances()-&gt;iterate(device;devicecount:Real=0|
if device.observes-&gt;size() &gt;= 3
then 
    if device.observes-&gt;iterate(av;avail:Real=0|if av.oclAsType(DataItems::"DataItem Types"::Event).type = DataTypes::EventEnum::AVAILABILITY then avail+1 else avail+0 endif) = 1
    then if device.observes-&gt;iterate(ac;assetc:Real=0|if ac.oclAsType(DataItems::"DataItem Types"::Event).type = DataTypes::EventEnum::ASSET_CHANGED then assetc+1 else assetc+0 endif) = 1
        then if device.observes-&gt;iterate(ar;assetr:Real=0|if ar.oclAsType(DataItems::"DataItem Types"::Event).type = DataTypes::EventEnum::ASSET_REMOVED then assetr+1 else assetr+0 endif) = 1
            then devicecount + 1
            else devicecount + 0
            endif
        else devicecount + 0
        endif
    else devicecount + 0
    endif
else devicecount + 0
endif) = hasDevice-&gt;size()</text><TO_DO humanName="To Do" mode="s,e"/><TYPE_MODIFIER humanName="Type Modifier"/><visibility humanName="Visibility">public</visibility></opaqueexpression></magicdraw>